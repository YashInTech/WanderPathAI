import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        { text: "Generate a travel plan for location: Las Vegas, for 5 days for a couple with a mid-range budget. Give me a Hotel Option list with HotelName, address, price, hotel image, url, geo coordinates, ratings, descriptions. Also suggest itinenary with place names, details, image, url, geo coordinates, tickets pricings, ratings, time to travel planned for each with the best time to visit. In a JSON Format." },
      ],
    },
    {
      role: "model",
      parts: [
        { text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"5 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Mid-range\",\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"The LINQ Hotel + Experience\",\n        \"address\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$100 - $250 per night\",\n        \"hotelImage\": \"https://example.com/linq_hotel_image.jpg\",\n        \"url\": \"https://www.caesars.com/linq\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1165,\n          \"longitude\": -115.1717\n        },\n        \"ratings\": 4.2,\n        \"description\": \"Modern hotel with a central location on the Strip, offering a variety of dining and entertainment options. Known for the High Roller observation wheel.\"\n      },\n      {\n        \"hotelName\": \"Paris Las Vegas\",\n        \"address\": \"3655 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$120 - $300 per night\",\n        \"hotelImage\": \"https://example.com/paris_hotel_image.jpg\",\n        \"url\": \"https://www.caesars.com/paris-las-vegas\",\n         \"geoCoordinates\": {\n          \"latitude\": 36.1123,\n          \"longitude\": -115.1708\n          },\n        \"ratings\": 4.3,\n        \"description\": \"Charming hotel with a Parisian theme, featuring a replica Eiffel Tower, excellent dining, and a vibrant atmosphere.\"\n      },\n      {\n        \"hotelName\": \"Planet Hollywood Resort & Casino\",\n        \"address\": \"3667 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$110 - $280 per night\",\n          \"hotelImage\": \"https://example.com/planet_hollywood_image.jpg\",\n        \"url\": \"https://www.caesars.com/planet-hollywood\",\n        \"geoCoordinates\": {\n           \"latitude\": 36.1107,\n          \"longitude\": -115.1719\n          },\n        \"ratings\": 4.1,\n        \"description\": \"Lively hotel with a movie theme, located in the heart of the Strip, offering great entertainment and dining options.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"theme\": \"Exploring the Strip & Bellagio Fountains\",\n        \"activities\": [\n          {\n            \"placeName\": \"The Bellagio Conservatory & Botanical Gardens\",\n            \"details\": \"Stroll through the beautifully themed botanical gardens inside the Bellagio hotel.\",\n            \"image\": \"https://example.com/bellagio_garden_image.jpg\",\n            \"url\": \"https://www.bellagio.com/en/entertainment/conservatory-botanical-garden.html\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1127,\n              \"longitude\": -115.1742\n            },\n            \"ticketsPrice\": \"Free\",\n            \"ratings\": 4.7,\n              \"timeToTravel\": \"Morning or early afternoon\",\n             \"bestTimeToVisit\": \"Anytime, but less crowded in the morning.\"\n          },\n          {\n             \"placeName\": \"Bellagio Fountains Show\",\n            \"details\": \"Witness the spectacular water show choreographed to music at the Bellagio fountains.\",\n            \"image\": \"https://example.com/bellagio_fountain_image.jpg\",\n            \"url\": \"https://www.bellagio.com/en/entertainment/fountains-of-bellagio.html\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1127,\n              \"longitude\": -115.1742\n            },\n            \"ticketsPrice\": \"Free\",\n             \"ratings\": 4.8,\n              \"timeToTravel\": \"Evening\",\n            \"bestTimeToVisit\": \"Anytime after dusk, show every 15-30 minutes.\"\n          },\n           {\n            \"placeName\": \"Dinner at Mon Ami Gabi\",\n            \"details\": \"Enjoy a romantic dinner with a view of the Bellagio Fountains at this popular French restaurant.\",\n             \"image\": \"https://example.com/mon_ami_gabi_image.jpg\",\n            \"url\": \"https://www.monamigabi.com/\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1101,\n              \"longitude\": -115.1727\n            },\n            \"ticketsPrice\": \"$50-80 per person\",\n              \"ratings\": 4.5,\n             \"timeToTravel\": \"Evening\",\n            \"bestTimeToVisit\": \"Evening, making a reservation is essential.\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"theme\": \"High Roller & Fremont Street Experience\",\n         \"activities\": [\n           {\n            \"placeName\": \"The High Roller Observation Wheel\",\n            \"details\": \"Take a ride on the world's tallest observation wheel for stunning panoramic views of Las Vegas.\",\n            \"image\": \"https://example.com/high_roller_image.jpg\",\n            \"url\": \"https://www.caesars.com/linq/things-to-do/high-roller\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1170,\n              \"longitude\": -115.1703\n            },\n            \"ticketsPrice\": \"$25-35 per person\",\n              \"ratings\": 4.6,\n             \"timeToTravel\": \"Afternoon or early evening\",\n            \"bestTimeToVisit\": \"Sunset for the best views, but any time is great.\"\n          },\n           {\n            \"placeName\": \"Fremont Street Experience\",\n            \"details\": \"Experience the vibrant atmosphere and dazzling light shows at the Fremont Street Experience in downtown Las Vegas.\",\n             \"image\": \"https://example.com/fremont_street_image.jpg\",\n            \"url\": \"https://vegasexperience.com/\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1697,\n              \"longitude\": -115.1421\n            },\n             \"ticketsPrice\": \"Free\",\n              \"ratings\": 4.4,\n             \"timeToTravel\": \"Evening\",\n            \"bestTimeToVisit\": \"After dark to see the light shows.\"\n          },\n         {\n            \"placeName\": \"Dinner at Carson Kitchen\",\n            \"details\": \"Enjoy a modern American meal with creative dishes at this popular downtown spot.\",\n            \"image\": \"https://example.com/carson_kitchen_image.jpg\",\n            \"url\": \"https://carsonkitchen.com/\",\n             \"geoCoordinates\": {\n               \"latitude\": 36.1664,\n              \"longitude\": -115.1441\n            },\n            \"ticketsPrice\": \"$40-60 per person\",\n              \"ratings\": 4.5,\n             \"timeToTravel\": \"Evening\",\n            \"bestTimeToVisit\": \"Dinner hours, reservations are recommended.\"\n          }\n         ]\n      },\n      {\n          \"day\": 3,\n          \"theme\": \"Pool Day & Show\",\n           \"activities\": [\n           {\n            \"placeName\": \"Pool Day at Hotel\",\n             \"details\": \"Relax and enjoy the hotel pool and amenities.\",\n               \"image\": \"https://example.com/hotel_pool_image.jpg\",\n            \"url\": \"https://example.com/hotel_url\",\n             \"geoCoordinates\": {\n             \"latitude\": 36.1165,\n              \"longitude\": -115.1717\n            },\n           \"ticketsPrice\": \"Free for hotel guests\",\n             \"ratings\": 4.2,\n              \"timeToTravel\": \"Morning or afternoon\",\n            \"bestTimeToVisit\": \"Anytime during the day.\"\n           },\n         {\n            \"placeName\": \"Cirque du Soleil Show - 'O' at Bellagio\",\n            \"details\": \"Experience the mesmerizing aquatic spectacle of 'O' by Cirque du Soleil.\",\n            \"image\": \"https://example.com/cirque_o_image.jpg\",\n            \"url\": \"https://www.cirquedusoleil.com/o\",\n              \"geoCoordinates\": {\n             \"latitude\": 36.1127,\n              \"longitude\": -115.1742\n            },\n             \"ticketsPrice\": \"$150-250 per person\",\n              \"ratings\": 4.8,\n             \"timeToTravel\": \"Evening\",\n            \"bestTimeToVisit\": \"Evening show times, book in advance.\"\n           },\n             {\n               \"placeName\": \"Late-night Drinks at a Rooftop Bar\",\n            \"details\": \"Enjoy a view and cocktails at a stylish rooftop bar.\",\n              \"image\": \"https://example.com/rooftop_bar_image.jpg\",\n              \"url\": \"https://example.com/rooftop_bar_url\",\n              \"geoCoordinates\": {\n                 \"latitude\": 36.1165,\n              \"longitude\": -115.1717\n             },\n             \"ticketsPrice\": \"$20-40 per person\",\n              \"ratings\": 4.4,\n             \"timeToTravel\": \"Late night\",\n            \"bestTimeToVisit\": \"Late evening or night.\"\n          }\n          ]\n       },\n      {\n        \"day\": 4,\n        \"theme\": \"Day Trip to Red Rock Canyon\",\n        \"activities\": [\n            {\n            \"placeName\": \"Red Rock Canyon National Conservation Area\",\n           \"details\": \"Enjoy hiking and scenic drives through the stunning Red Rock Canyon.\",\n              \"image\": \"https://example.com/red_rock_canyon_image.jpg\",\n            \"url\": \"https://www.blm.gov/red-rock-canyon-nca\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1375,\n              \"longitude\": -115.4139\n           },\n           \"ticketsPrice\": \"$15 per vehicle\",\n             \"ratings\": 4.7,\n             \"timeToTravel\": \"Morning\",\n              \"bestTimeToVisit\": \"Morning to avoid the midday heat, especially during summer.\"\n          },\n           {\n              \"placeName\": \"Lunch at a Casual Eatery near Red Rock\",\n             \"details\": \"Enjoy a relaxed lunch at a nearby cafe or restaurant.\",\n             \"image\": \"https://example.com/casual_restaurant_image.jpg\",\n             \"url\": \"https://example.com/casual_restaurant_url\",\n              \"geoCoordinates\": {\n                 \"latitude\": 36.1400,\n              \"longitude\": -115.4000\n           },\n             \"ticketsPrice\": \"$20-30 per person\",\n               \"ratings\": 4.3,\n              \"timeToTravel\": \"Afternoon\",\n              \"bestTimeToVisit\": \"After your Red Rock Canyon visit.\"\n            },\n            {\n               \"placeName\": \"Shopping at the Shops at Crystals\",\n               \"details\": \"Explore the luxury retail outlets at the Shops at Crystals.\",\n              \"image\":\"https://example.com/crystals_shopping_image.jpg\",\n              \"url\":\"https://www.simon.com/mall/the-shops-at-crystals\",\n               \"geoCoordinates\": {\n               \"latitude\": 36.1095,\n               \"longitude\":-115.1735\n             },\n               \"ticketsPrice\":\"Free\",\n               \"ratings\":4.2,\n               \"timeToTravel\":\"Evening\",\n                \"bestTimeToVisit\": \"Evening.\"\n\n            }\n        ]\n      },\n     {\n        \"day\": 5,\n        \"theme\": \"Relaxing & Departure\",\n       \"activities\": [\n        {\n          \"placeName\": \"Spa Day\",\n          \"details\": \"Enjoy a couple's massage or spa treatment at your hotel or a local spa.\",\n         \"image\": \"https://example.com/spa_image.jpg\",\n         \"url\": \"https://example.com/spa_url\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1165,\n            \"longitude\": -115.1717\n           },\n           \"ticketsPrice\":\"$100-200 per person\",\n           \"ratings\":4.4,\n            \"timeToTravel\": \"Morning or early afternoon\",\n           \"bestTimeToVisit\": \"Anytime, book in advance.\"\n         },\n          {\n              \"placeName\": \"Farewell Brunch\",\n             \"details\": \"Enjoy a leisurely brunch at a popular restaurant.\",\n            \"image\": \"https://example.com/brunch_image.jpg\",\n            \"url\": \"https://example.com/brunch_url\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1165,\n              \"longitude\": -115.1717\n           },\n             \"ticketsPrice\": \"$30-40 per person\",\n              \"ratings\": 4.4,\n             \"timeToTravel\":\"Late morning or early afternoon\",\n             \"bestTimeToVisit\": \"Brunch time.\"\n          },\n           {\n            \"placeName\": \"Departure\",\n            \"details\": \"Head to the airport for your departure.\",\n           \"image\": \"https://example.com/airport_image.jpg\",\n           \"url\":\"https://example.com/airport_url\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.0801,\n            \"longitude\": -115.1523\n           },\n           \"ticketsPrice\":\"N/A\",\n            \"ratings\":\"N/A\",\n           \"timeToTravel\":\"As per your flight time\",\n           \"bestTimeToVisit\":\"N/A\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```" },
      ],
    },
  ],
});